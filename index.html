<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìœ¤ë™ì£¼ì˜ ì„œìš¸ ì‚°ì±…: 1941ë…„, ì‹œì¸ì˜ ê¸¸ì„ ê±·ë‹¤</title>
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Chosen Palette: "Faded Manuscript" -->
    <!-- Background: #F9F7F2 (Warm Paper) -->
    <!-- Primary Text: #2C3333 (Ink Black) -->
    <!-- Accent: #8D7B68 (Old Wood/Leather) -->
    <!-- Highlight: #A4907C (Faded Brown) -->
    <!-- Secondary: #C8B6A6 (Beige) -->

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #F9F7F2;
            color: #2C3333;
        }
        .font-serif {
            font-family: 'Noto Serif KR', serif;
        }
        
        /* Chart Container Styling - Strict Adherence to Requirements */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px; /* Constrain width for readability */
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Base height */
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar for Timeline */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #C8B6A6; 
            border-radius: 3px;
        }
        .custom-scroll::-webkit-scrollbar-thumb:hover {
            background: #8D7B68; 
        }

        /* Interactive Element Styles */
        .course-btn {
            transition: all 0.3s ease;
        }
        .course-btn:hover {
            background-color: #E8E4D9;
            transform: translateX(4px);
        }
        .course-btn.active {
            background-color: #8D7B68;
            color: #F9F7F2;
            border-left: 4px solid #2C3333;
            transform: translateX(4px);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>

    <!-- Application Structure Plan:
         1. Layout: "Exploratory Dashboard".
            - Header: Project context and title.
            - Left Column (Navigation): Vertical timeline of the 5 courses. Acts as the map.
            - Center Column (Narrative): The core content area. Displays the specific location details, history, and student activities.
            - Right Column (Insight): Data visualization (Radar Chart) and discussion prompts.
         2. Logic:
            - User selects a course from the left timeline.
            - Center updates with text/images (canvas).
            - Right updates the Radar Chart to show the "Emotional/Thematic Balance" of that location (Literature, Reality, Nature, Empathy).
         3. Goal:
            - To move beyond linear reading and allow students to compare the changing atmosphere of Yun Dong-ju's daily path.
    -->

    <!-- Visualization & Content Choices:
         1. Radar Chart (Chart.js): Maps "Thematic Intensity" [ë¬¸í•™(Literature), ìì—°(Nature), í˜„ì‹¤(Reality), ê³µê°(Empathy)].
            - Goal: Compare/Change. Shows how the mood shifts from "Peaceful Nature" (Course 2) to "Harsh Reality" (Course 3/4).
         2. Interactive Activity Card:
            - Goal: Engagement. Allows users to type their thoughts directly for the "Student Activity" mentioned in the source.
         3. Vertical Timeline:
            - Goal: Organize. Clearly defines the sequence of the field trip.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-[#8D7B68] text-[#F9F7F2] shadow-lg z-10">
        <div class="max-w-7xl mx-auto px-4 py-5 flex justify-between items-end">
            <div>
                <span class="text-xs tracking-widest uppercase opacity-80">ì§€ì—­ ì—­ì‚¬ í”„ë¡œì íŠ¸</span>
                <h1 class="text-3xl font-serif font-bold mt-1">ìœ¤ë™ì£¼ì˜ ì„œìš¸ ì‚°ì±…</h1>
                <p class="text-sm opacity-90 mt-1">1941ë…„, ì•”ìš¸í•œ í˜„ì‹¤ ì† ì‹œì¸ì˜ ê¸¸ì„ ê±·ë‹¤</p>
            </div>
            <div class="hidden md:block text-right">
                <div class="text-xs bg-[#F9F7F2] text-[#8D7B68] px-2 py-1 rounded inline-block font-bold">Project Guide</div>
            </div>
        </div>
    </header>

    <!-- Intro Context Section -->
    <section class="bg-white border-b border-[#E8E4D9]">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <h2 class="text-xl font-serif font-bold text-[#2C3333] mb-2">í”„ë¡œì íŠ¸ ê°œìš”</h2>
            <p class="text-[#555] text-sm leading-relaxed max-w-4xl">
                ì´ ë””ì§€í„¸ ê°€ì´ë“œëŠ” 1941ë…„, ìœ¤ë™ì£¼ê°€ ì„œìš¸ ëˆ„ìƒë™ì—ì„œ í•˜ìˆ™í•˜ë©° í•™êµë¡œ í–¥í•˜ë˜ ê¸¸ì„ ì¬êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. 
                ì™¼ìª½ì˜ íƒ€ì„ë¼ì¸ì„ í´ë¦­í•˜ì—¬ ê° ì¥ì†Œì— ì„œë¦° ì‹ë¯¼ì§€ ì§€ì‹ì¸ì˜ ê³ ë‡Œì™€ ë¬¸í•™ì  ê°ìˆ˜ì„±ì„ ë°ì´í„°ì™€ í•¨ê»˜ ì²´í—˜í•´ ë³´ì„¸ìš”.
                <br>
                <span class="text-xs text-[#8D7B68] mt-2 inline-block">* ì£¼ìš” í…ìŠ¤íŠ¸: ìœ¤ë™ì£¼ ìˆ˜í•„ ã€Œì¢…ì‹œ(çµ‚å§‹)ã€, ì •ë³‘ìš± íšŒê³ ë¡ ã€ŒìŠì§€ ëª»í•  ìœ¤ë™ì£¼ í˜•ã€</span>
            </p>
            
            <!-- Added Image -->
            <div class="mt-6 max-w-4xl">
                <img src="https://postfiles.pstatic.net/MjAyNTA3MjNfMTg1/MDAxNzUzMjMwNDg5NTQ5.z1C1PXlAZQ94e2O5X8z-Du8Iu0wP_XuPE4D6SRKpXlsg.VCiA-zp81IP3n8hfgDKjRGcNn078gE6QPKcfxf_lWkYg.JPEG/%EC%9C%A4%EB%8F%99%EC%A3%BC%EB%AC%B8%ED%95%99%EA%B4%80_%EC%9D%B8%EC%99%95%EC%82%B0%EC%9E%90%EB%9D%BD%EA%B8%B8.jpg?type=w966" alt="ìœ¤ë™ì£¼ ë¬¸í•™ê´€ ì¸ì™•ì‚° ìë½ê¸¸" class="w-full h-auto rounded-lg shadow-sm border border-[#E8E4D9]">
                <p class="text-xs text-gray-400 mt-2 text-center">ìœ¤ë™ì£¼ ë¬¸í•™ê´€ ë° ì¸ì™•ì‚° ìë½ê¸¸ ì „ê²½</p>
            </div>
        </div>
    </section>

    <!-- Main Content Grid -->
    <main class="flex-grow max-w-7xl mx-auto w-full p-4 grid grid-cols-1 lg:grid-cols-12 gap-6">

        <!-- Left Column: Navigation (The Path) -->
        <nav class="lg:col-span-3 bg-white rounded-lg shadow-sm border border-[#E8E4D9] flex flex-col h-fit">
            <div class="p-4 border-b border-[#E8E4D9] bg-[#FDFCF8] rounded-t-lg">
                <h3 class="font-bold text-[#8D7B68]">ë‹µì‚¬ ì½”ìŠ¤ (Timeline)</h3>
                <p class="text-xs text-gray-500">ìˆœì„œëŒ€ë¡œ ë‹µì‚¬ë¥¼ ì§„í–‰í•˜ì„¸ìš”.</p>
            </div>
            <div class="p-2 space-y-1 custom-scroll max-h-[60vh] overflow-y-auto" id="course-list">
                <!-- Javascript will populate this list -->
            </div>
        </nav>

        <!-- Center Column: Narrative (The Story) -->
        <section class="lg:col-span-6 flex flex-col gap-6">
            <!-- Dynamic Content Card -->
            <div id="content-card" class="bg-white rounded-lg shadow-md border border-[#E8E4D9] p-6 fade-in min-h-[400px]">
                <div class="flex items-center gap-2 mb-4">
                    <span id="course-badge" class="bg-[#2C3333] text-white text-xs px-2 py-1 rounded">Course 1</span>
                    <span class="text-xs text-gray-500 font-serif tracking-wide" id="course-location">ì¢…ë¡œêµ¬ ëˆ„ìƒë™</span>
                </div>
                
                <h2 id="course-title" class="text-2xl font-serif font-bold text-[#2C3333] mb-4 border-b pb-2 border-[#E8E4D9]">
                    ì‹œì¸ì˜ ë°©, ì°½ì‘ì˜ ì‚°ì‹¤
                </h2>

                <!-- Course Image Container -->
                <img id="course-image" class="w-full h-64 object-cover rounded-lg shadow-sm mb-6 hidden" alt="ì½”ìŠ¤ ì´ë¯¸ì§€">

                <div class="space-y-6">
                    <div>
                        <h4 class="font-bold text-[#8D7B68] mb-1 text-sm flex items-center">
                            ğŸ“– ì—­ì‚¬ì  ë°°ê²½
                        </h4>
                        <p id="course-history" class="text-sm leading-relaxed text-gray-700 bg-[#F9F7F2] p-4 rounded-md border border-[#E8E4D9]">
                            1941ë…„ 5ì›”~9ì›”, ìœ¤ë™ì£¼ê°€ í›„ë°° ì •ë³‘ìš±ê³¼ í•¨ê»˜ í•˜ìˆ™í–ˆë˜ ê³³ì…ë‹ˆë‹¤...
                        </p>
                    </div>

                    <div>
                        <h4 class="font-bold text-[#8D7B68] mb-1 text-sm flex items-center">
                            ğŸ“ ë‹µì‚¬ í¬ì¸íŠ¸
                        </h4>
                        <ul id="course-points" class="list-disc list-inside text-sm text-gray-700 space-y-1 ml-1">
                            <!-- Points loaded here -->
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Student Activity Interaction -->
            <div class="bg-[#FDFCF8] rounded-lg shadow-sm border border-[#8D7B68] border-dashed p-5">
                <div class="flex items-start gap-3">
                    <div class="text-2xl">âœï¸</div>
                    <div class="w-full">
                        <h3 class="font-bold text-[#2C3333] text-sm mb-1">í•™ìƒ í™œë™</h3>
                        <p id="activity-prompt" class="text-xs text-gray-600 mb-3">
                            í˜„ì¬ì˜ ê³¨ëª©ê¸¸ì—ì„œ 1941ë…„ ë‹¹ì‹œ ë¬¸í•™ ì²­ë…„ë“¤ì˜ ëŒ€í™”ë¥¼ ìƒìƒí•´ë³´ê¸°.
                        </p>
                        <textarea id="student-input" class="w-full h-24 p-3 text-sm bg-white border border-[#E8E4D9] rounded focus:outline-none focus:border-[#8D7B68] transition-colors" placeholder="ì—¬ê¸°ì— ë‹¹ì‹ ì˜ ìƒê°ì´ë‚˜ ê´€ì°° ë‚´ìš©ì„ ê¸°ë¡í•˜ì„¸ìš”..."></textarea>
                        <div class="mt-2 flex justify-end">
                            <button onclick="saveEntry()" class="bg-[#8D7B68] hover:bg-[#756455] text-white text-xs px-4 py-2 rounded transition-colors">
                                í™œë™ ê¸°ë¡ ì €ì¥
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Right Column: Insight (The Data) -->
        <aside class="lg:col-span-3 space-y-6">
            
            <!-- Emotional Analysis Chart -->
            <div class="bg-white rounded-lg shadow-sm border border-[#E8E4D9] p-4">
                <div class="mb-2 text-center">
                    <h3 class="font-bold text-[#2C3333] text-sm">ê³µê°„ ì •ì„œ ë¶„ì„</h3>
                    <p class="text-xs text-gray-500">ê° ì½”ìŠ¤ì˜ ì‹¬ë¦¬ì /í…Œë§ˆì  ê°•ë„</p>
                </div>
                
                <div class="chart-container">
                    <canvas id="emotionChart"></canvas>
                </div>
                
                <div class="mt-3 text-xs text-gray-600 bg-[#F9F7F2] p-2 rounded text-center">
                    <span id="chart-caption" class="font-semibold text-[#8D7B68]"></span>
                </div>
            </div>

            <!-- Discussion Topic -->
            <div class="bg-[#2C3333] text-[#F9F7F2] rounded-lg p-5 shadow-lg">
                <h3 class="text-xs font-bold text-[#A4907C] uppercase tracking-wider mb-2">í† ë¡  ì£¼ì œ</h3>
                <p id="discussion-topic" class="text-sm font-serif leading-relaxed italic">
                    "ìœ¤ë™ì£¼ëŠ” ì™œ ìˆ˜í•„ ì œëª©ì„ 'ì‹œì¢…'ì´ ì•„ë‹Œ 'ì¢…ì‹œ'ë¼ê³  ì§€ì—ˆì„ê¹Œìš”?"
                </p>
                <div class="mt-4 pt-4 border-t border-gray-600 text-right">
                    <span class="text-xs text-gray-400">ìƒê° ë‚˜ëˆ„ê¸°</span>
                </div>
            </div>

        </aside>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-[#E8E4D9] mt-auto">
        <div class="max-w-7xl mx-auto px-4 py-6 text-center md:text-left">
            <p class="text-xs text-gray-500">
                &copy; ìœ¤ë™ì£¼ ë‹µì‚¬ í”„ë¡œì íŠ¸ ê°€ì´ë“œ | Designed for Educational Purpose
            </p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Source (Extracted from Report) ---
        // Scoring (0-10) is interpreted based on the text descriptions to visualize the atmosphere.
        const tripData = [
            {
                id: 1,
                title: "ì‹œì¸ì˜ ë°©, ì°½ì‘ì˜ ì‚°ì‹¤",
                location: "ì¢…ë¡œêµ¬ ëˆ„ìƒë™ í•˜ìˆ™ì§‘ í„°",
                // Image added here
                image: "https://github.com/hanmimo260/novel260/blob/main/1.webp?raw=true",
                history: "1941ë…„ 5ì›”~9ì›”, ìœ¤ë™ì£¼ê°€ í›„ë°° ì •ë³‘ìš±ê³¼ í•¨ê»˜ í•˜ìˆ™í–ˆë˜ ê³³ì…ë‹ˆë‹¤. ë‹¹ì‹œ ì†Œì„¤ê°€ ê¹€ì†¡ì˜ ì§‘ì´ì—ˆìœ¼ë©°, ë¬¸í•™ì„ ë…¼í•˜ê³  ìŒì•…ì„ ì¦ê¸°ëŠ” ë¬¸í™”ì  ê³µê°„ì´ì—ˆìŠµë‹ˆë‹¤.",
                points: [
                    "ê°€ì¥ ë¹›ë‚˜ëŠ” ì‹œê¸°: ìƒì•  ì¤‘ ê°€ì¥ ë§ì€ ê¸°ë¡ì´ ë‚¨ìŒ, ëŒ€í‘œì‘ 9í¸ íƒ„ìƒ.",
                    "ì •ë³‘ìš±ì˜ íšŒê³ : í•˜ìˆ™ë°© ê³ ë“±í•™ìƒ êµ­ì–´ì±…ì— ìœ¤ë™ì£¼ì˜ ì‹œê°€ ì‹¤ë ¤ ìˆë˜ ì¼í™”."
                ],
                activity: "í˜„ì¬ì˜ ê³¨ëª©ê¸¸ì—ì„œ 1941ë…„ ë‹¹ì‹œ ë¬¸í•™ ì²­ë…„ë“¤ì˜ ëŒ€í™”ë¥¼ ìƒìƒí•´ë³´ê¸°.",
                discussion: "í•˜ìˆ™ì§‘ì´ë¼ëŠ” ì‚¬ì ì¸ ê³µê°„ì´ ì‹œì¸ì—ê²Œ ì–´ë–¤ 'ë¬¸í™”ì  í•´ë°©êµ¬' ì—­í• ì„ í–ˆì„ê¹Œìš”?",
                // Themes: Literature(High), Nature(Low), Reality(Low-Mid), Empathy(Mid)
                chartData: [9, 3, 4, 6],
                chartCaption: "ë¬¸í•™ì  ì°½ì‘ë ¥ì´ ìµœê³ ì¡°ì— ë‹¬í•œ ì‹œê¸°"
            },
            {
                id: 2,
                title: "ì‚¬ìƒ‰ì˜ ê¸¸, ìì—° ì†ìœ¼ë¡œ",
                location: "ìˆ˜ì„±ë™ ê³„ê³¡ ~ ì¸ì™•ì‚° ì¤‘í„±",
                history: "í•˜ìˆ™ì§‘ì—ì„œ ë¶ˆê³¼ 100ì—¬ ë¯¸í„° ê±°ë¦¬ë¡œ, ìœ¤ë™ì£¼ì™€ ì •ë³‘ìš±ì´ ë§¤ì¼ ì•„ì¹¨ ì‚°ì±…í•˜ë©° ì„¸ìˆ˜í•˜ë˜ ê³³ì…ë‹ˆë‹¤. ê²¸ì¬ ì •ì„ ì˜ ê·¸ë¦¼ ë°°ê²½ì´ê¸°ë„ í•©ë‹ˆë‹¤.",
                points: [
                    "ìš°ìš¸í•œ ì„¸íƒœì˜ ìœ„ë¡œ: ì•„ë¦„ë‹¤ìš´ ìì—°ê³¼ ë²—ì´ ìˆì–´ ì•”ìš¸í•œ ì‹œëŒ€ë¥¼ ì ì‹œ ìŠìŒ.",
                    "ì¹˜ìœ ì˜ ê³µê°„: ì¸ì™•ì‚°ì˜ ìì—° ì†ì—ì„œì˜ ì‚¬ìƒ‰."
                ],
                activity: "ìˆ˜ì„±ë™ ê³„ê³¡ì— ì•‰ì•„ ì ì‹œ ëˆˆì„ ê°ê³  ë¬¼ì†Œë¦¬ë¥¼ ë“¤ìœ¼ë©° ì‹œì¸ì˜ ë§ˆìŒ ë˜ì–´ë³´ê¸°.",
                discussion: "ìì—°ì€ ì‹œì¸ì—ê²Œ ë‹¨ìˆœí•œ í’ê²½ì´ì—ˆì„ê¹Œìš”, ì•„ë‹ˆë©´ ë„í”¼ì²˜ì˜€ì„ê¹Œìš”?",
                // Themes: Literature(Mid), Nature(High), Reality(Low), Empathy(High)
                chartData: [6, 10, 2, 8],
                chartCaption: "í˜„ì‹¤ì„ ìŠê³  ìì—° ì†ì—ì„œ ì¹˜ìœ ë°›ìŒ"
            },
            {
                id: 3,
                title: "ì „ì°¨ì˜ ì¢…ì , ë“±êµì˜ ì‹œì‘",
                location: "íš¨ìë™ ì „ì°¨ ì¢…ì  í„° ~ ê´‘í™”ë¬¸",
                history: "ìˆ˜í•„ ã€Œì¢…ì‹œã€ì˜ ëª¨í‹°í”„ê°€ ëœ ì¥ì†Œì…ë‹ˆë‹¤. 1923ë…„ ê°œí†µëœ í†µì˜ë™ì„  ì „ì°¨ì˜ ì¢…ì ì´ì—ˆìŠµë‹ˆë‹¤.",
                points: [
                    "ì‹ë¯¼ í†µì¹˜ì˜ í˜„ì¥: ì°¨ì°½ ë°– ê±°ëŒ€í•œ 'ì¡°ì„ ì´ë…ë¶€ ì²­ì‚¬'ë¥¼ ëª©ê²©.",
                    "í˜„ì‹¤ ì§ì‹œ: ì‹ë¯¼ì§€ ì¡°ì„ ì˜ í˜„ì‹¤ì„ ë§ˆì£¼í•˜ëŠ” ì‹œì¸ì˜ ì‹œì„ ."
                ],
                activity: "í˜„ì¬ì˜ ê´‘í™”ë¬¸ ê´‘ì¥ê³¼ ê³¼ê±° ì‚¬ì§„(ì¡°ì„ ì´ë…ë¶€)ì„ ë¹„êµí•˜ë©° í† ë¡ í•˜ê¸°.",
                discussion: "ìœ¤ë™ì£¼ëŠ” ì™œ ìˆ˜í•„ ì œëª©ì„ 'ì‹œì¢…(ì‹œì‘ê³¼ ë)'ì´ ì•„ë‹Œ 'ì¢…ì‹œ(ëê³¼ ì‹œì‘)'ë¼ê³  ì§€ì—ˆì„ê¹Œìš”?",
                // Themes: Literature(Low), Nature(Low), Reality(High), Empathy(Mid)
                chartData: [4, 1, 10, 5],
                chartCaption: "ì‹ë¯¼ í†µì¹˜ ê¸°êµ¬ë¥¼ ë³´ë©° ëƒ‰í˜¹í•œ í˜„ì‹¤ ìê°"
            },
            {
                id: 4,
                title: "í™˜ìŠ¹ê³¼ ê´€ì°°, ë¯¼ì¤‘ì˜ ì‚¶",
                location: "ì„œìš¸ì—­ ~ ì•„í˜„/ì˜ì˜í„°ë„ êµ¬ê°„",
                history: "ì „ì°¨ì—ì„œ ê¸°ì°¨ë¡œ í™˜ìŠ¹í•˜ëŠ” êµ¬ê°„ì…ë‹ˆë‹¤. ë‹¹ì‹œ í„°ë„ ë¶€ê·¼ì€ ë³µì„ í™” ê³µì‚¬ê°€ í•œì°½ì´ì—ˆìŠµë‹ˆë‹¤.",
                points: [
                    "ë¹„ê·¹ì  í˜„ì‹¤ì˜ ìê°: 'ë¶ê²½í–‰'ì„ ë¶™ì¸ íŠ¸ëŸ­ê³¼ ì¡°ì„ ì¸ ë…¸ë™ìë“¤ ëª©ê²©.",
                    "í¬ê·¹ì´ì ë¹„ê·¹: ê²‰ìœ¼ë¡œëŠ” í™œê¸°ì°¨ ë³´ì´ë‚˜ ë‚´ë©´ì€ ë¹„ê·¹ì¸ ë¯¼ì¤‘ì˜ ì‚¶ê³¼ ë™ì¼ì‹œ."
                ],
                activity: "ìˆ˜í•„ ã€Œì¢…ì‹œã€ì˜ êµ¬ì ˆì„ ë‚­ë…í•˜ë©° 'í¬ê·¹ì´ì ë¹„ê·¹'ì˜ ì˜ë¯¸ ìƒê°í•´ë³´ê¸°.",
                discussion: "ë…¸ë™ìë“¤ì„ ë³´ë©° ëŠë‚€ 'í¬ê·¹ì´ì ë¹„ê·¹'ì´ë¼ëŠ” ê°ì •ì€ ë¬´ì—‡ì„ ì˜ë¯¸í• ê¹Œìš”?",
                // Themes: Literature(Mid), Nature(Low), Reality(High), Empathy(High)
                chartData: [5, 0, 9, 10],
                chartCaption: "ê³ í†µë°›ëŠ” ë¯¼ì¤‘ì˜ ì‚¶ì— ëŒ€í•œ ê¹Šì€ ê³µê°"
            },
            {
                id: 5,
                title: "ë°°ì›€ì˜ í„°ì „, ì—°í¬ì „ë¬¸ ê°€ëŠ” ê¸¸",
                location: "ì—°í¬ì—­ í„° (ì‹ ì´Œë¡œ 9ê¸¸)",
                history: "ìœ¤ë™ì£¼ê°€ ë‚´ë ¸ë˜ ì—­ì€ í˜„ì¬ì˜ ì‹ ì´Œì—­ì´ ì•„ë‹Œ ì˜› 'ì—°í¬ì—­'ì…ë‹ˆë‹¤. í˜„ì¬ëŠ” ì² ë¡œê°€ ê±·íˆê³  ë‘¥ê·¸ë ‡ê²Œ íœ˜ì–´ì§„ ë„ë¡œë§Œ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.",
                points: [
                    "ì‚¬ë¼ì§„ ì—­ì˜ í”ì : ì§€í˜•ì„ í†µí•´ ë‹¹ì‹œì˜ í†µí•™ë¡œ ë³µì›.",
                    "ë§ˆì§€ë§‰ ë“±êµ£ê¸¸: ì‹œì¸ì´ ê±¸ì—ˆë˜ ë°°ì›€ì˜ ê¸¸."
                ],
                activity: "ì˜› ì§€ë„ì™€ í˜„ì¬ ì§€ë„ë¥¼ ê²¹ì³ë³´ë©° ìœ¤ë™ì£¼ì˜ ë§ˆì§€ë§‰ ë“±êµ ë„ë³´ ê²½ë¡œ ê·¸ë ¤ë³´ê¸°.",
                discussion: "ì‚¬ë¼ì§„ ê³µê°„(ì—°í¬ì—­)ì„ í†µí•´ ìš°ë¦¬ëŠ” ë¬´ì—‡ì„ ê¸°ì–µí•´ì•¼ í• ê¹Œìš”?",
                // Themes: Literature(High), Nature(Mid), Reality(Mid), Empathy(Mid)
                chartData: [8, 4, 6, 6],
                chartCaption: "ë°°ì›€ì˜ ê³µê°„ìœ¼ë¡œ í–¥í•˜ë©° ë¬¸í•™ì  ì˜ì§€ íšŒë³µ"
            }
        ];

        // --- State Management ---
        let currentCourseIndex = 0;
        let emotionChart = null;

        // --- Core Interaction Functions ---

        // Initialize Application
        document.addEventListener('DOMContentLoaded', () => {
            renderNav();
            loadCourse(0);
            initChart();
        });

        // Render Navigation List
        function renderNav() {
            const listContainer = document.getElementById('course-list');
            listContainer.innerHTML = '';
            
            tripData.forEach((course, index) => {
                const btn = document.createElement('button');
                btn.className = `course-btn w-full text-left p-3 rounded mb-1 flex flex-col items-start ${index === 0 ? 'active' : ''}`;
                btn.onclick = () => loadCourse(index);
                btn.innerHTML = `
                    <span class="text-xs font-bold opacity-70 mb-1">ì œ${course.id}ì½”ìŠ¤</span>
                    <span class="font-bold text-sm leading-tight">${course.title}</span>
                `;
                btn.dataset.index = index; // Store index for reference
                listContainer.appendChild(btn);
            });
        }

        // Load Course Content
        function loadCourse(index) {
            currentCourseIndex = index;
            const data = tripData[index];

            // Update UI State (Navigation Active Class)
            document.querySelectorAll('.course-btn').forEach(btn => {
                if(parseInt(btn.dataset.index) === index) {
                    btn.classList.add('active');
                    btn.classList.remove('text-[#2C3333]', 'bg-transparent');
                } else {
                    btn.classList.remove('active');
                    btn.classList.add('text-[#2C3333]');
                }
            });

            // Update Content (Animation Reset)
            const contentCard = document.getElementById('content-card');
            contentCard.classList.remove('fade-in');
            void contentCard.offsetWidth; // Trigger reflow
            contentCard.classList.add('fade-in');

            // Populate Text
            document.getElementById('course-badge').textContent = `ì œ${data.id}ì½”ìŠ¤`;
            document.getElementById('course-location').textContent = data.location;
            document.getElementById('course-title').textContent = data.title;
            
            // Image Handling
            const imgEl = document.getElementById('course-image');
            if (data.image) {
                imgEl.src = data.image;
                imgEl.classList.remove('hidden');
            } else {
                imgEl.classList.add('hidden');
            }

            document.getElementById('course-history').textContent = data.history;
            document.getElementById('activity-prompt').textContent = data.activity;
            document.getElementById('discussion-topic').textContent = `"${data.discussion}"`;
            document.getElementById('chart-caption').textContent = data.chartCaption;

            // Clear Input
            document.getElementById('student-input').value = localStorage.getItem(`yun_project_note_${index}`) || '';

            // Populate Points List
            const pointsList = document.getElementById('course-points');
            pointsList.innerHTML = '';
            data.points.forEach(point => {
                const li = document.createElement('li');
                // Bold the part before the colon if exists
                if(point.includes(':')) {
                    const parts = point.split(':');
                    li.innerHTML = `<strong>${parts[0]}:</strong> ${parts[1]}`;
                } else {
                    li.textContent = point;
                }
                pointsList.appendChild(li);
            });

            // Update Chart
            updateChart(data.chartData);
        }

        // --- Chart.js Logic ---
        function initChart() {
            const ctx = document.getElementById('emotionChart').getContext('2d');
            
            emotionChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['ë¬¸í•™/ì´ìƒ', 'ìì—°/ì¹˜ìœ ', 'ì‹ë¯¼ì§€ í˜„ì‹¤', 'ê³µê°/ì„±ì°°'],
                    datasets: [{
                        label: 'ê³µê°„ í…Œë§ˆ ê°•ë„',
                        data: [0, 0, 0, 0], // Initial empty
                        backgroundColor: 'rgba(141, 123, 104, 0.4)', // #8D7B68 with opacity
                        borderColor: '#8D7B68',
                        borderWidth: 2,
                        pointBackgroundColor: '#2C3333',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#2C3333'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false, // Critical for container fit
                    scales: {
                        r: {
                            angleLines: {
                                color: '#E8E4D9'
                            },
                            grid: {
                                color: '#E8E4D9'
                            },
                            pointLabels: {
                                font: {
                                    family: "'Noto Sans KR', sans-serif",
                                    size: 11
                                },
                                color: '#2C3333'
                            },
                            ticks: {
                                display: false, // Hide numbers for cleaner look
                                max: 10,
                                stepSize: 2
                            },
                            suggestedMin: 0,
                            suggestedMax: 10
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.raw + ' / 10';
                                }
                            }
                        }
                    }
                }
            });
        }

        function updateChart(newData) {
            if (emotionChart) {
                emotionChart.data.datasets[0].data = newData;
                emotionChart.update();
            }
        }

        // --- Engagement Logic ---
        function saveEntry() {
            const inputVal = document.getElementById('student-input').value;
            if(!inputVal.trim()) {
                alert('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            // Save to localStorage
            localStorage.setItem(`yun_project_note_${currentCourseIndex}`, inputVal);
            
            // Visual feedback
            const btn = document.querySelector('button[onclick="saveEntry()"]');
            const originalText = btn.textContent;
            btn.textContent = "ì €ì¥ ì™„ë£Œ!";
            btn.classList.remove('bg-[#8D7B68]');
            btn.classList.add('bg-green-600');
            
            setTimeout(() => {
                btn.textContent = originalText;
                btn.classList.remove('bg-green-600');
                btn.classList.add('bg-[#8D7B68]');
            }, 2000);
        }
    </script>
</body>
</html>ã…‘
